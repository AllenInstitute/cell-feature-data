{
    "$schema": "http://json-schema.org/draft-04/schema",
    "$id": "database-schema",
    "title": "Cell Feature Database Specification",
    "description": "Structure of the data stored in firebase and AWS",
    "type": "object",
    "additionalProperties": false,
    "properties": {
        "dataset-descriptions": {
            "$ref": "sub-schema/dataset-descriptions.schema.json"
        },
        "manifests": {
            "description": "Collection of manifests for each published dataset.",
            "type": "object",
            "properties": {
                "DATASET_ID": {
                    "type": "object",
                    "$ref": "manifest.schema.json"
                }
            }
        },
        "dataset-data": {
            "$id": "dataset-data",
            "description": "High level data for a dataset, ie not per cell data",
            "type": "object",
            "properties": {
                "feature-definitions": {
                    "type": "object",
                    "properties": {
                        "$dataset-id": {
                            "type": "object",
                            "$feature-key": {
                                "$ref": "feature-def.schema.json"
                            }
                        }
                    }
                }
            }
        },
        "cell-data": {
            "description": "Per cell data",
            "$id": "cell-data",
            "type": "object",
            "properties": {
                "DATASET_ID": {
                    "type": "object",
                    "properties": {
                        "cell-file-info": {
                            "type": "object",
                            "description": "Per cell mapping of file info",
                            "properties": {
                                "CELL_ID": {
                                    "$ref": "sub-schema/file-info.schema.json"
                                }
                            }
                        }
                    }
                }
            }
        },
        "measured-features": {
            "$ref": "measured-features.schema.json"
        }
    },
    "required": [
        "dataset-descriptions",
        "manifests",
        "dataset-data",
        "cell-data",
        "measured-features"
    ]
}
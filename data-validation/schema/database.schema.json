{
    "$schema": "http://json-schema.org/draft-04/schema",
    "$id": "database-schema",
    "title": "Cell Feature Database Specification",
    "description": "Structure of the data stored in firebase and AWS",
    "type": "object",
    "additionalProperties": false,
    "properties": {
        "dataset-descriptions": {
            "description": "Endpoint that gets called first to load all the available datasets",
            "type": "object",
            "properties": {
                "DATASET_ID": {
                    "type": "object",
                    "title": "Dataset group information",
                    "properties": {
                        "datasets": {
                            "type": "array",
                            "items": {
                                "$ref": "dataset-card.schema.json"
                            }
                        },
                        "dateCreated": {
                            "description": "Month Day, Year",
                            "type": "string"
                        },
                        "name": {
                            "type": "string"
                        },
                        "production": {
                            "type": "boolean"
                        },
                        "title": {
                            "type": "string"
                        },
                        "publications": {
                            "description": "Publications associated with the group",
                            "type": "array",
                            "items": {
                                "type": "object",
                                "properties": {
                                    "title": {
                                        "description": "Article title",
                                        "type": "string"
                                    },
                                    "url": {
                                        "description": "Article link",
                                        "type": "string"
                                    },
                                    "citation": {
                                        "description": "Article journal and date",
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "manifests": {
            "description": "Collection of manifests for each published dataset.",
            "type": "object",
            "properties": {
                "DATASET_ID": {
                    "type": "object",
                    "$ref": "manifest.schema.json"
                }
            }
        },
        "dataset-data": {
            "$id": "dataset-data",
            "description": "Data ",
            "type": "object",
            "properties": {
                "feature-definitions": {
                    "type": "object",
                    "properties": {
                        "$dataset-id": {
                            "type": "object",
                            "$feature-key": {
                                "$ref": "feature-def.schema.json"
                            }
                        }
                    }
                }
            }
        },
        "cell-data": {
            "description": "Per cell data",
            "$id": "cell-data",
            "type": "object",
            "properties": {
                "DATASET_ID": {
                    "type": "object",
                    "properties": {
                        "cell-file-info": {
                            "type": "object",
                            "properties": {
                                "$id": {
                                    "$ref": "file-info.schema.json"
                                }
                            }
                        }
                    }
                }
            }
        },
        "measured-features": {
            "$ref": "measured-features.schema.json"
        }
    },
    "required": [
        "dataset-descriptions",
        "manifests",
        "dataset-data",
        "cell-data",
        "measured-features"
    ]
}